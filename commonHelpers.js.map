{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst input = document.querySelector('#searchImg');\nconst btn = document.querySelector('#searchBtn');\nconst listImages = document.querySelector('.listImages');\n\nbtn.addEventListener('click', e => {\n  e.preventDefault();\n  clearImages();\n  fetchImages()\n    .then(photos => {\n      if (photos.hits.length === 0) {\n        iziToast.error({\n          timeout: 3000,\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        imgList(photos.hits);\n      }\n    })\n    .catch(error => console.log(error));\n});\n\nfunction fetchImages() {\n  const searchParams = new URLSearchParams({\n    key: '45320962-957458a2920d861910609dde6',\n    q: `${input.value}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`https://pixabay.com/api/?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\nfunction imgList(photos) {\n  const markup = photos\n    .map(photo => {\n      return `<li>\n        <img src=\"${photo.webformatURL}\" alt=\"${photo.tags}\" style=\"width:360px; height:200px;\"/>\n        <div class=\"descr-wrapper\">\n        <p class=\"descr\"><b>Tags</b>: ${photo.tags}</p>\n        <p class=\"descr\"><b>Likes</b>: ${photo.likes}</p>\n        <p class=\"descr\"><b>Views</b>: ${photo.views}</p>\n        <p class=\"descr\"><b>Comments</b>: ${photo.comments}</p>\n        <p class=\"descr\"><b>Downloads</b>: ${photo.downloads}</p>\n        </div>\n      </li>`;\n    })\n    .join('');\n\n  listImages.insertAdjacentHTML('beforeend', markup);\n}\nfunction clearImages() {\n  listImages.innerHTML = '';\n}\n"],"names":["input","btn","listImages","e","clearImages","fetchImages","photos","iziToast","imgList","error","searchParams","response","markup","photo"],"mappings":"svBAKA,MAAMA,EAAQ,SAAS,cAAc,YAAY,EAC3CC,EAAM,SAAS,cAAc,YAAY,EACzCC,EAAa,SAAS,cAAc,aAAa,EAEvDD,EAAI,iBAAiB,QAASE,GAAK,CACjCA,EAAE,eAAc,EAChBC,IACAC,EAAa,EACV,KAAKC,GAAU,CACVA,EAAO,KAAK,SAAW,EACzBC,EAAS,MAAM,CACb,QAAS,IACT,SAAU,WACV,QACE,0EACZ,CAAS,EAEDC,EAAQF,EAAO,IAAI,CAE3B,CAAK,EACA,MAAMG,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CAAC,EAED,SAASJ,GAAc,CACrB,MAAMK,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAG,GAAGV,EAAM,KAAK,GACjB,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,4BAA4BU,CAAY,EAAE,EAAE,KAAKC,GAAY,CACxE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CACA,SAASH,EAAQF,EAAQ,CACvB,MAAMM,EAASN,EACZ,IAAIO,GACI;AAAA,oBACOA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,wCAElBA,EAAM,IAAI;AAAA,yCACTA,EAAM,KAAK;AAAA,yCACXA,EAAM,KAAK;AAAA,4CACRA,EAAM,QAAQ;AAAA,6CACbA,EAAM,SAAS;AAAA;AAAA,YAGvD,EACA,KAAK,EAAE,EAEVX,EAAW,mBAAmB,YAAaU,CAAM,CACnD,CACA,SAASR,GAAc,CACrBF,EAAW,UAAY,EACzB"}